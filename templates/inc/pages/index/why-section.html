{% macro switch_tabs(data) -%}
    {% for feature in data %}
        <ul class="kjq-tabs">
            <li class="kjq-tabs__tab kjq-tabs-tab" data-tab-id="{{ feature.id }}">
                <p class="kjq-tabs-tab__title">{{ feature.id.capitalize() }}</p>
                <div class="kjq-tabs-tab__content">
                    {{ feature.content | safe }}
                </div>
            </li>
        </ul>
    {% endfor %}
{%- endmacro %}

<article class="kto-overview-section kotlin-why-section">
    <div class="g-layout">
        <section>
            <h2 id="why-kotlin" class="kto-heading kto-heading_size_h1">
                <a class="kto-overview-section__title_link" href="#why-kotlin">Why Kotlin</a>
            </h2>
        </section>

        <section>
            <h3 class="kto-heading kto-heading_size_hero">Modern, concise and safe programming language</h3>
            {{ switch_tabs(features) }}
            <p class="kto-text kto-text_size_subtitle2">
                Concise, safe, and functional. Easy to pick up, so you can create powerful applications immediately.
            </p>
            <a class="kto-button kto-button_size_m kto-button_mode_outline" href="/docs/tutorials/getting-started.html">
                Get started →
            </a>
        </section>

        <section>
            <h3 class="kto-heading kto-heading_size_hero">A productive way to write web applications</h3>
            <iframe class="kotlin-why-section__media" width="560" height="315" src="https://www.youtube-nocookie.com/embed/8xAH7RU0Y44" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <p class="kto-text kto-text_size_subtitle2">
                Compatible with the Java ecosystem. Use your favorite JVM frameworks and libraries.
            </p>
            <a class="kto-button kto-button_size_m kto-button_mode_outline" href="/lp/server-side/" target="_blank">
                Learn more →
            </a>
        </section>

        <section>
            <h3 class="kto-heading kto-heading_size_hero">Natural way to share code between mobile platforms</h3>
            <img class="kotlin-why-section__media" alt="Mobile platforms Feature" src="/assets/images/index/mobile-platforms.svg" width="100%">
            <p class="kto-text kto-text_size_subtitle2">
                Write the business logic for iOS and Android apps just once.  Easily make existing applications cross platform.
            </p>
            <a class="kto-button kto-button_size_m kto-button_mode_outline" href="https://kotlinlang.org/lp/mobile/" target="_blank">
                Browse KMM →
            </a>
        </section>

        <section>
            <h3 class="kto-heading kto-heading_size_hero">Big, friendly and helpful  community</h3>
            <iframe class="kotlin-why-section__media" width="560" height="315" src="https://www.youtube-nocookie.com/embed/BGHx5ueEUGI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <p class="kto-text kto-text_size_subtitle2">
                Kotlin has great support and many contributors in its fast-growing global community. Enjoy the benefits of a rich ecosystem with  a wide range of community libraries. Help is never far away – consult extensive community resources or ask the Kotlin  team directly.
            </p>
            <a class="kto-button kto-button_size_m kto-button_mode_outline" href="/community/">
                Join the community →
            </a>
        </section>
    </div>
</article>
